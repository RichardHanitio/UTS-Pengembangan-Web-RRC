<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="daftar.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;400;500;700&display=swap" rel="stylesheet">
    <title>Wijaya Store | Daftar</title>
    <link rel="icon" type="image/png" href="../ImageBank/logo.png">
    
</head>
<body>
    <div class="left">
        <div class="container-left">
            <img src="../ImageBank/logo.png" alt="">
            <h2>Dapatkan promo</h2>
            <h2>hanya untuk</h2>
            <h2>member</h2>
            <h2 id="bawah">Daftar <b>SEKARANG!</b></h2>
        </div>
    </div>

    <div class="right">
        <div class="right-container">
            <div class="container-top">
                <div class="radius">
                    <p>Daftar</p>
                </div>
            </div>
    
            <form action="../MasukPage/Masuk.html" id="form">
                <ul>
                    <li>
                        <label for="">E-Mail</label>
                        <input type="email">
                    </li>
                    <li>
                        <label for="">Username</label>
                        <input type="text" id="username">
                        <div class="meter" id="userInvalid"></div>
                    </li>
                    <li>
                        <label for="">Password</label>
                        <input type="password" id="password">
                        <div class="meter" id="meter"></div>
                    </li>
                    <li>
                        <label for="">Confirm Password</label>
                        <input type="password" id="confirmPassword">
                        <div class="meter" id="passNotMatch"></div>
                    </li>
                    <li>
                        <label for="">Phone Number</label>
                        <input type="text" id="phone">
                        <div class="meter" id="passNotMatch"></div>
                    </li>
                    <li>
                        <button type="submit" >Daftar</button>
                    </li>
                </ul>
            </form>
        </div>
    </div>

    <script>
        var f = document.getElementById("form");
        
        f.addEventListener("submit", (e)=>{
            var user = document.getElementById("username").value;
            var pass = document.getElementById("password").value;
            var passCon = document.getElementById("confirmPassword").value;
            var phone = document.getElementById("phone").value;
            var meter = document.getElementById("meter");
            var userInv = document.getElementById("userInvalid");
            var passInv = document.getElementById("passNotMatch");
            var problem = false;

            if(checkSpace(user)){
                userInv.innerHTML = "Username cannot contain space !";
                userInv.style.color = "red"
                problem = true;
            }
            
            if(pass != passCon || pass === "" ){
                passInv.innerHTML = "Password does not match !"
                passInv.style.color = "red"
                problem = true;
            } 

            if(problem == true){
                e.preventDefault();
            }
        })

        password.addEventListener('input', strongPassword);
        function strongPassword(){
            var pass = document.getElementById("password").value;
            var gauge = 0;
            var regExp = /[A-Z]/;
            let isMatch = regExp.test(pass);

            if(pass.length < 8){
                
            }
            else{
                gauge += 1;
            }

            if(stringContainsNumber(pass)){
                gauge += 1;
            }
            else{
                
            }

            if(isMatch){
                gauge += 1
            }

            if(gauge == 1){
                meter.innerHTML = "Weak"
                meter.style.color = "red"
            }
            else  if(gauge == 2){
                meter.innerHTML = "Medium"
                meter.style.color = "gold"
            }
            else if (gauge == 3){
                meter.innerHTML = "Strong"
                meter.style.color = "greenyellow"
            }
            else{
                meter.innerHTML = "Weak"
                meter.style.color = "red"
            }
        }

        function stringContainsNumber(pass) {
            return /\d/.test(pass);
        }

        function isUpper(str) {
            return !/[a-z]/.test(str) && /[A-Z]/.test(str);
        }

        function checkSpace(user){
            var check = (user.indexOf(" ") >= 0);
            return check;
        }
        
    </script>
</body>
</html>